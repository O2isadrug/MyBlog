webpackJsonp([12],{"4FGY":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={name:"ArticleManager",data:function(){return{url:"/article",article:[],article_count:0,currentPage:1}},created:function(){this.getArticleCount(),this.getLimitArticle(0)},methods:{tableRowClassName:function(t){t.row;var e=t.rowIndex;return 1===e?"warning-row":3===e?"success-row":""},handleClick:function(t){console.log(t)},handleSizeChange:function(t){console.log("每页 "+t+" 条")},handleCurrentChange:function(t){this.getLimitArticle(5*(t-1))},getLimitArticle:function(t){var e=this;this.article=[],this.loading=!0,this.$axios.get(this.url+"/limit/"+t).then(function(t){200==t.data.code?(e.article=t.data.body,e.loading=!1):e.$message({message:t.data.message,type:"warning"})})},getArticleCount:function(){var t=this;this.$axios.get(this.url+"/articleCount").then(function(e){200==e.data.code?t.article_count=e.data.body:t.$message({message:e.data.message,type:"warning"})})},deleteArticleById:function(t){var e=this;this.$axios.get(this.url+"/deleteArticle/"+t).then(function(t){200==t.data.code?(e.$message({message:t.data.message,type:"success"}),e.handleCurrentChange(e.currentPage),e.getArticleCount()):e.$message({message:t.data.message,type:"warning"})})}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"article-manager"},[a("div",{staticClass:"main"},[a("div",{staticClass:"content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.article,"row-class-name":t.tableRowClassName,border:""}},[a("el-table-column",{attrs:{prop:"id",label:"文章id",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"update_date",label:"日期",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"author",label:"作者",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"article_title",label:"标题",width:"300"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.handleClick(e.row)}}},[t._v("查看")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return t.deleteArticleById(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticClass:"d-fourBlock"}),t._v(" "),a("el-pagination",{attrs:{"page-size":5,layout:"prev, pager, next, jumper",total:t.article_count,"current-page":t.currentPage},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])])},staticRenderFns:[]};var r=a("C7Lr")(n,i,!1,function(t){a("Nr3T")},"data-v-9ac440d4",null);e.default=r.exports},Nr3T:function(t,e){}});
//# sourceMappingURL=12.82059182960935ffc06f.js.map